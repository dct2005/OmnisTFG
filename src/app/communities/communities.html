<div class="communities-container">

    <div class="layout-grid">

        <aside class="sidebar-left">
            <div class="sidebar-card">
                <h3>CategorÃ­as</h3>
                <ul class="category-list">
                    <li class="active">ðŸŒŸ Todas</li>
                    <li>ðŸŽ® Videojuegos</li>
                    <li>ðŸ’» ProgramaciÃ³n</li>
                    <li>ðŸŽµ MÃºsica</li>
                    <li>ðŸŽ¨ Arte y DiseÃ±o</li>
                    <li>âš½ Deportes</li>
                </ul>
            </div>

            <div class="sidebar-card">
                <h3>Explorar</h3>
                <ul class="category-list">
                    <li>ðŸ”¥ Tendencias</li>
                    <li>ðŸ†• Lo mÃ¡s nuevo</li>
                </ul>
            </div>
        </aside>

        <main class="main-content">
            <div class="header-section">

                <h2>Comunidades</h2>

                <p class="subtitle">Explora comunidades sobre tus juegos favoritos y conoce gente nueva.</p>

                <div class="search-wrapper">
                    <input type="text" placeholder="Buscar comunidad..." (input)="onSearch($event)"
                        class="search-input">
                </div>
            </div>

            <div class="grid">
                @for (community of filteredCommunities(); track community.id) {
                <div class="card">
                    <img [src]="community.image_url || 'https://placehold.co/600x300?text=Comunidad'"
                        alt="{{ community.name }}" class="card-img">
                    <h3>{{ community.name }}</h3>
                    <p>{{ community.description || 'Ãšnete para ver mÃ¡s detalles.' }}</p>
                    <button>Unirse</button>
                </div>
                } @empty {
                <p class="empty-msg">
                    @if (searchTerm()) {
                    No se encontraron resultados para "{{ searchTerm() }}".
                    } @else {
                    No hay comunidades disponibles.
                    }
                </p>
                }
            </div>
        </main>

        <aside class="sidebar-right">
            <div class="sidebar-card create-card">
                <h3>Â¿No encuentras lo que buscas?</h3>
                <p>Crea tu propia comunidad y reÃºne a gente con tus mismos intereses.</p>
                <button class="btn-create">Crear Comunidad</button>
            </div>

            <div class="sidebar-card info-card">
                <h3>ðŸ“¢ Novedades</h3>
                <p>Â¡Bienvenido a la nueva secciÃ³n de comunidades de Omnis! Estamos en fase beta.</p>
            </div>
        </aside>

    </div>
</div>